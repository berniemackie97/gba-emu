version: 1
meta:
    template:
        id: cpp
    inputs:
        template.id: cpp
checks:
    - id: template:cpp:6bbc87a099e5
      source: template:cpp
      name: configure
      run: cmake -S . -B build
      shell: cmd
      requires: cmake
    - id: template:cpp:1e7940fe2631
      source: template:cpp
      name: build
      run: cmake --build build
      shell: cmd
      requires: cmake
    - id: template:cpp:a604181cd805
      source: template:cpp
      name: tests
      run: ctest --test-dir build
      shell: cmd
      requires: ctest
    - id: ci:ci:8409aa7695a2
      source: ci:ci
      name: ci:ci:build-windows:configure-cmake
      run: |-
        cmake --preset default `
          -DCMAKE_BUILD_TYPE=Release `
          -DCMAKE_TOOLCHAIN_FILE=C:/Users/berni/vcpkg/scripts/buildsystems/vcpkg.cmake
      shell: pwsh
      os: windows
      requires: cmake
    - id: ci:ci:ed664ee0a37b
      source: ci:ci
      name: ci:ci:build-windows:build
      run: cmake --build build --config Release -j
      shell: pwsh
      os: windows
      requires: cmake
    - id: ci:ci:d973b3287268
      source: ci:ci
      name: ci:ci:build-windows:run-tests
      run: ctest -C Release --output-on-failure --verbose
      shell: pwsh
      cwd: build
      os: windows
      requires: ctest
protection:
    level: moderate
    interactive: true
insults:
    mode: snarky
    file: .buildbouncer/assets/insults/default.json
    locale: en
banter:
    enabled: true
    file: .buildbouncer/assets/banter/default.json
    locale: en
